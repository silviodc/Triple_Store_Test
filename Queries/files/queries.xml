<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<root>
    
   <query>
   <endpoint>
      <type>Non-topological funtions</type>
	  <name>strabon/ussekm</name>
	  <number>1</number>
           <value>PREFIX geof: <http://www.opengis.net/def/function/geosparql/> 
		   PREFIX datasets: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   PREFIX opengis: <http://www.opengis.net/def/uom/OGC/1.0/>
		   SELECT (geof:convexHull(?o1) AS ?ret) 
		   WHERE { GRAPH datasets:geonames {?s1 geonames:asWKT ?o1} }
		   </value>
    </query>
	<query>
      <type>Non-topological funtions</type>
	  <name>strabon/ussekm</name>
	  <number>2</number>
           <value>PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX datasets: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   PREFIX opengis: <http://www.opengis.net/def/uom/OGC/1.0/>                                                                   
		   SELECT (geof:buffer(?o1, 4, opengis:metre) AS ?ret) 
		   WHERE {                                                                            
		   GRAPH datasets:geonames {?s1 geonames:asWKT ?o1}
		   }
		   </value>
    </query>
	<query>
      <type>Spatial joins</type>
	  <name>strabon/ussekm</name>
	  <number>3</number>
           <value>PREFIX dataset: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   PREFIX lgd: <http://linkedgeodata.org/ontology/>
		   PREFIX geof:<http://www.opengis.net/def/function/geosparql/> 
		   SELECT ?s1 ?o1 ?s2 ?o2
		   WHERE { 
		   GRAPH dataset:geonames {?s1 geonames:asWKT ?o1} 
		   GRAPH dataset:geonames {?s2 geonames:asWKT ?o2} 
           FILTER(?s1 != ?s2).  
		   FILTER(geof:sfWithin(?o1, ?o2)).  
		   } 
		   </value>
    </query>
	<query>
      <type>Spatial joins</type>
	  <name>strabon/ussekm</name>
	  <number>4</number>
           <value>PREFIX dataset: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   PREFIX lgd: <http://linkedgeodata.org/ontology/>
		   PREFIX geof:<http://www.opengis.net/def/function/geosparql/> 
		   SELECT ?s1 ?o1 ?s2 ?o2
		   WHERE { 
		   GRAPH dataset:geonames {?s1 geonames:asWKT ?o1} 
		   GRAPH dataset:geonames {?s2 geonames:asWKT ?o2} 
		   FILTER(?s1 != ?s2).  
		   FILTER(geof:sfIntersects(?o1, ?o2)).  
		   } 
		   </value>
    </query>
	<query>
      <type>SPATIAL SELECTION</type>
	  <name>strabon/ussekm</name>
	  <number>5</number>
           <value>PREFIX dataset: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   SELECT *
		   WHERE { 
		   GRAPH dataset:geonames {?s1 geonames:asWKT ?o1} 
		   FILTER(geof:sfWithin(?o1, "Polygon((23.93 33.23, 23.93 36.23, 22.63 33.23, 22.63 36.23, 23.93 33.23))"^^geo:wktLiteral))
		   }  limit 100 
		   </value>
    </query>
	<query>
      <type>SPATIAL SELECTION</type>
	  <name>strabon/ussekm</name>
	  <number>6</number>
           <value>PREFIX dataset: <http://geographica.di.uoa.gr/dataset/>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/> 
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#> 
		   PREFIX opengis: <http://www.opengis.net/def/uom/OGC/1.0/>
		   PREFIX geonames: <http://www.geonames.org/ontology#>
		   SELECT (COUNT(?s1) AS ?NumOfTriples)
		   WHERE { 
		   GRAPH dataset:geonames {?s1 geonames:asWKT ?o1} 
		   FILTER(geof:sfWithin(?o1, geof:buffer("Polygon((23.93 33.23, 23.93 36.23, 22.63 33.23, 22.63 36.23, 23.93 33.23))"^^geo:wktLiteral, 3000, opengis:metre))).  }
		   </value>
	</query>
  </endpoint>

  <endpoint>
	<query>
      <type>Non-topological funtions</type>
	  <name>parliament</name>
	  <number>1</number>
           <value> PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   SELECT (geof:convexHull(?o1) AS ?ret)
		   WHERE { 	?s1 geo:asWKT ?o1} 
		   </value>
    </query>
	
	
	<query>
      <type>Non-topological funtions</type>
	  <name>parliament</name>
	  <number>2</number>
           <value>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX units: <http://www.opengis.net/def/uom/OGC/1.0/>
		   SELECT (geof:buffer(?o1, 4, units:metre) AS ?ret) 
		   WHERE { ?s1 geo:asWKT ?o1} 
		   </value>
    </query>
	
	
	
	<query>
      <type>SPATIAL JOINS</type>
	  <name>parliament</name>
	  <number>3</number>
           <value>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX sf: <http://www.opengis.net/ont/sf#>
		   SELECT ?s1 ?o1 ?s2 ?o2
		   WHERE { 
		   ?s1 geo:asWKT ?o1 .
		   ?s2 geo:asWKT ?o2 .
		   FILTER(?s1 != ?s2).  
		   FILTER(geof:sfWithin(?o1, ?o2)).  
		   } 
		   </value>
    </query>
	<query>
      <type>SPATIAL JOINS</type>
	  <name>parliament</name>
	  <number>4</number>
           <value>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX sf: <http://www.opengis.net/ont/sf#>
		   SELECT ?s1 ?o1 ?s2 ?o2
		   WHERE { 
		   ?s1 geo:asWKT ?o1 .
		   ?s2 geo:asWKT ?o2 .
		   FILTER(?s1 != ?s2).  
		   FILTER(geof:sfIntersects(?o1, ?o2)).  
		   }
		   </value>
    </query>
	
	<query>
      <type>SPATIAL SELECTION</type>
	  <name>parliament</name>
	  <number>5</number>
           <value>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX sf: <http://www.opengis.net/ont/sf#>
		   SELECT *
		   WHERE {
		   ?s geo:hasGeometry ?bGeom .
		   ?bGeom geo:asWKT ?bWKT .
		   FILTER (geof:sfWithin(?bWKT, "Polygon((-1 -58, -7 -58, -7 -69, -1 -69, -1 -58))"^^sf:wktLiteral))
		   }
		   </value>
    </query>
	
	<query>
      <type>SPATIAL SELECTION</type>
	  <name>parliament</name>
	  <number>6</number>
           <value>
		   PREFIX geo: <http://www.opengis.net/ont/geosparql#>
		   PREFIX geof: <http://www.opengis.net/def/function/geosparql/>
		   PREFIX sf: <http://www.opengis.net/ont/sf#>
		   PREFIX opengis: <http://www.opengis.net/def/uom/OGC/1.0/>
		   SELECT *
		   WHERE {
		   ?s geo:hasGeometry ?bGeom .
		   ?bGeom geo:asWKT ?bWKT .
		   FILTER(geof:sfWithin(geof:buffer("Polygon((-1 -58, -7 -58, -7 -69, -1 -69, -1 -58))"^^geo:wktLiteral, 3000, opengis:metre),?o1)). }
		   </value>
    </query>
	</endpoint>
	
</root>
